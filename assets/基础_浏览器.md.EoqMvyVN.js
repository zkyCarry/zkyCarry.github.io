import{_ as i,c as e,o as l,a1 as o}from"./chunks/framework.BLNEObz3.js";const f=JSON.parse('{"title":"浏览器记录","description":"","frontmatter":{"outline":"deep"},"headers":[],"relativePath":"基础/浏览器.md","filePath":"基础/浏览器.md"}'),t={name:"基础/浏览器.md"},a=o('<h1 id="浏览器记录" tabindex="-1">浏览器记录 <a class="header-anchor" href="#浏览器记录" aria-label="Permalink to &quot;浏览器记录&quot;">​</a></h1><p>浏览器基本介绍</p><h2 id="全部" tabindex="-1">全部 <a class="header-anchor" href="#全部" aria-label="Permalink to &quot;全部&quot;">​</a></h2><ol><li><p>缓存： 协商缓存，强制缓存</p></li><li><p>重绘/重排。 重绘是单纯的颜色变化，重排是位置大小等变化。</p></li><li><p>存储：localStrage 5MB, sectionStrage，indexedDB 当前页面内有效/关闭之后无效，cookie，每次随着http协议上传和下发。有限制大小 4kb</p></li><li><p>http/ tcp / ws（webScoket）。 三次握手，4次挥手。</p></li><li><p>请求域名到渲染的过程。</p><ol><li>dns根据域名查询ip地址。</li><li>tcp三次握手</li><li>请求 http页面数据。</li><li>返回数据</li><li>解析/渲染页面</li><li>断开链接 四次挥手。</li></ol></li><li><p>捕获错误，滚动等 错误： console.error window。addeventlistener（‘error’）、vue.app.errorhandler window。addeventer unhandedrejection。 浏览器还有一些api，陀螺仪能获取手机角度，获取性能 permance。还有一些api时间，</p></li><li><p>渲染过程</p><ol><li>构建dom树</li><li>构建cssom树。</li><li>将dom树和 cssom树 和在一起构建渲染树</li><li>根据渲染树计算每个节点的信息 布局</li><li>将渲染树的节点绘制页面。</li></ol></li><li><p>v8引擎 内存管理：</p><ol><li>新生代/老生代 新生代内存分了两块，form和to， form分配对象，to处于闲置，form存活的对象复制到to中， 清除form，然后to和from互换。 新声代可以晋升到老生代，老生代采用标记出清的方式， 标记清楚会产生内存碎片，还有标记整理内存，由于每次内存回收，代码会暂停，所有采用增量标记和增量整理方式，不一次回收完内存。 新生代采用标记清楚方案，未被清楚的变量会升级为老生代。 新老生代/内存互换？</li></ol></li><li><p>跨域 ？ 同源策略：协议，域名，端口好一致，浏览器只能访问同源的cookie和localStorge jsonp cros<br> node 服务端没有跨域 iframe postmessage 解决跨域 nginx代理配置 websocket 没有跨域，只有http有</p></li><li><p>端和浏览器通信 bridge</p></li><li><p>遇到script会下载解析，影响渲染，script可以加defer或async，</p></li></ol>',4),r=[a];function p(n,s,c,d,_,m){return l(),e("div",null,r)}const u=i(t,[["render",p]]);export{f as __pageData,u as default};
